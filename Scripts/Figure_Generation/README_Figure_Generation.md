# README_Figure_Generation

README file discussing contents of /Scripts/Figure_Generation folder. 
Author: R.R. Riggin, July 2023
(Updated 5/5/2024)

# Summary

We've included all python3 scripts and the most-required model output or post-processed data required to emulate the analysis figures in Riggin et al. (In Review). These respective figures are included as well for reference, though additional annotations and cleaning were performed after the initial generation via the included scripts to reach the final publication-quality products. Any interested party can contact the corresponding author for required data not included in the repository (largely due to file size limitations). 

# Folder Contents

1). Cleaned_Model_Output_CSVs: 
All model output from the 18 simulations producing isolated supercells were run through a post-processing tracking algorithm (See /Scripts/Tracking_Algorithm/ for more details), producing visual and numerical data summarizing each 5-minute output period. The numerical data for each simulation is contained in this folder (e.g., simulation_name_model_output_stats.csv) containing information regarding model integration time, mesocyclone location and characteristics, near-storm inflow environment parameters, and cold pool characteristics. Though the tracking algorithm had several built-in checks to ensure consistent tracking, infrequent errors did occur requiring manual review and cleaning for some simulations (e.g., errors were largely related to storm-splitting and/or weakening/dissipation as robust mesocyclones were well-handled by the algorithm). Cleaning the data involved using a time-weighted average of the resultant output before and after the error occurred to interpolate the best possible values for the error-related output time (i.e., t_error =  ( ( (t_error + dt) + (t_error - dt) ) / 2 ). Results were insensitive to these interpolations and simply provided cleaner visuals for our publication-quality figures.

Note that there is an additional folder in here, named Other_Sims, that contains Output_CSVs from additional simulations that were not discussed in the publication.

2). Figures:
This folder contains the final publication-quality figures generated by the scripts included within the other discussed directories after cleaning and annotations were performed in Adobe Photoshop. These images are full-resolution and are provided for reference.

3). Initial_Conditions_Output_Files: 
This folder includes the initial conditions output files for each environmental composite (e.g. Upstream Crossing, Peak Crossing, Downstream Crossing, Upstream Noncrossing, Peak Noncrossing, Downstream Noncrossing; Fig. 3a-f) after being interpolated to the CM1 model grid. These files were used to generate reference figures for the model background environment. Note that composite subsets (i.e., OUT and NO_OUT) were not included in the repository due to file size but are available upon request. Generating Fig. 3 via the CSTAR_Modeling_Init_Snding_PanelPlot_(Fig_3).py script requires those files to run as expected.

4).Stat_Time-Series: 
This folder contains four python3 scripts to generate the time-series figures for the steady-state and variable-state IDTRN and RLTRN simulations. Each script contains logic to determine whether or not you want to analyze the crossing or noncrossing subsets. These scripts require their respective Model_Output CSVs to run properly.

5). Storm_Tracks: 
This folder contains four python3 scripts to generate the storm track and UH swath figures for the steady-state and variable-state IDTRN and RLTRN simulations. These scripts require their respective Model_Output CSVs and Model_Output files containing the UH_Swath variable to run properly. These output files were too large to include in the repository and are available upon request.

6). CSTAR_Modeling_Init_Snding_PanelPlot_(Fig_3).py
A script that uses the initial conditions model output files for each composite environment to generate a summary panel plot figure of all model background fields from Purpura et al. (2023) that were utilized in this study.

7). terrain_induced_perturbations_from_BS_with_FrH_(Figs7-8).py
A script used to analyze the base-state environment and computer 4-hr perturbation values of CAPE, CIN, SRH, and mountain Froude Number (FrH). Script includeds logic to choose between IDTRN and RLTRN, along with the modified hodograph IDTRN simulations (MOD). Requires model output files to run which were to large to include in the repository and are available upon request.

# References

Purpura, S. M., C. E. Davenport, M. D. Eastin, K. E. McKeown, and R. R. Riggin, 2023: Environmental Evolution of Supercell Thunderstorms Interacting with the Appalachian Mountains. Wea. Forecasting, 38, 179â€“198, https://doi.org/10.1175/WAF-D-22-0115.1.

Riggin IV, R. R., C. E. Davenport, M. D. Eastin, K. E. McKeown, S. M. Purpura, and B. T. Katona, In Review: Idealized Simulations of Supercell Thunderstorms Interacting with the Appalachian Mountains. Mon. Wea. Rev.
